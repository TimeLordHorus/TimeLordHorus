<Page
    x:Class="TimeLordDashboard.Views.AnalyticsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:lvc="using:LiveChartsCore.SkiaSharpView.WinUI"
    Background="{ThemeResource LayerFillColorDefaultBrush}">

    <ScrollViewer>
        <StackPanel Padding="24" Spacing="24">
            <!-- Page Header -->
            <StackPanel Spacing="8">
                <TextBlock Text="Analytics & Insights"
                          FontSize="32"
                          FontWeight="SemiBold"/>
                <TextBlock Text="Track your productivity and wellbeing trends over time"
                          FontSize="14"
                          Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
            </StackPanel>

            <!-- Time Period Selector -->
            <StackPanel Orientation="Horizontal" Spacing="12">
                <TextBlock Text="Time Period:"
                          FontSize="16"
                          VerticalAlignment="Center"/>
                <ComboBox SelectedIndex="1" MinWidth="150">
                    <ComboBoxItem Content="Today"/>
                    <ComboBoxItem Content="This Week"/>
                    <ComboBoxItem Content="This Month"/>
                    <ComboBoxItem Content="Last 3 Months"/>
                </ComboBox>
            </StackPanel>

            <!-- Summary Cards -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0" Margin="0,0,12,0"
                       Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                       CornerRadius="{StaticResource CardCornerRadius}"
                       Padding="20">
                    <StackPanel Spacing="8">
                        <TextBlock Text="Total Screen Time"
                                  FontSize="14"
                                  Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        <TextBlock Text="32.5 hrs"
                                  FontSize="28"
                                  FontWeight="SemiBold"/>
                        <TextBlock Foreground="{StaticResource SuccessBrush}">
                            <Run Text="↓ 12%"/>
                            <Run Text="vs last week" FontSize="12"/>
                        </TextBlock>
                    </StackPanel>
                </Border>

                <Border Grid.Column="1" Margin="0,0,12,0"
                       Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                       CornerRadius="{StaticResource CardCornerRadius}"
                       Padding="20">
                    <StackPanel Spacing="8">
                        <TextBlock Text="Breaks Taken"
                                  FontSize="14"
                                  Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        <TextBlock Text="42"
                                  FontSize="28"
                                  FontWeight="SemiBold"/>
                        <TextBlock Foreground="{StaticResource SuccessBrush}">
                            <Run Text="↑ 8%"/>
                            <Run Text="vs last week" FontSize="12"/>
                        </TextBlock>
                    </StackPanel>
                </Border>

                <Border Grid.Column="2" Margin="0,0,12,0"
                       Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                       CornerRadius="{StaticResource CardCornerRadius}"
                       Padding="20">
                    <StackPanel Spacing="8">
                        <TextBlock Text="Avg Wellbeing Score"
                                  FontSize="14"
                                  Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        <TextBlock Text="8.2 / 10"
                                  FontSize="28"
                                  FontWeight="SemiBold"/>
                        <TextBlock Foreground="{StaticResource SuccessBrush}">
                            <Run Text="↑ 5%"/>
                            <Run Text="vs last week" FontSize="12"/>
                        </TextBlock>
                    </StackPanel>
                </Border>

                <Border Grid.Column="3"
                       Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                       CornerRadius="{StaticResource CardCornerRadius}"
                       Padding="20">
                    <StackPanel Spacing="8">
                        <TextBlock Text="Files Organized"
                                  FontSize="14"
                                  Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        <TextBlock Text="156"
                                  FontSize="28"
                                  FontWeight="SemiBold"/>
                        <TextBlock Foreground="{StaticResource SuccessBrush}">
                            <Run Text="↑ 23%"/>
                            <Run Text="vs last week" FontSize="12"/>
                        </TextBlock>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Charts Section -->
            <StackPanel Spacing="16">
                <TextBlock Text="Screen Time Trends"
                          FontSize="20"
                          FontWeight="SemiBold"/>

                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                       CornerRadius="{StaticResource CardCornerRadius}"
                       Padding="24"
                       Height="300">
                    <TextBlock Text="Chart: Screen time over the last 7 days will be displayed here"
                             FontSize="16"
                             HorizontalAlignment="Center"
                             VerticalAlignment="Center"
                             Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    <!-- LiveCharts will be integrated here -->
                </Border>
            </StackPanel>

            <!-- Wellbeing Metrics Chart -->
            <StackPanel Spacing="16">
                <TextBlock Text="Wellbeing Metrics"
                          FontSize="20"
                          FontWeight="SemiBold"/>

                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                       CornerRadius="{StaticResource CardCornerRadius}"
                       Padding="24"
                       Height="300">
                    <TextBlock Text="Chart: Multi-line graph showing different wellbeing metrics over time"
                             FontSize="16"
                             HorizontalAlignment="Center"
                             VerticalAlignment="Center"
                             Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    <!-- LiveCharts will be integrated here -->
                </Border>
            </StackPanel>

            <!-- Activity Heatmap -->
            <StackPanel Spacing="16">
                <TextBlock Text="Activity Heatmap"
                          FontSize="20"
                          FontWeight="SemiBold"/>

                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                       CornerRadius="{StaticResource CardCornerRadius}"
                       Padding="24"
                       MinHeight="200">
                    <TextBlock Text="Heatmap showing your most productive hours of the day"
                             FontSize="16"
                             HorizontalAlignment="Center"
                             VerticalAlignment="Center"
                             Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                </Border>
            </StackPanel>

            <!-- Insights Section -->
            <StackPanel Spacing="16">
                <TextBlock Text="Insights & Recommendations"
                          FontSize="20"
                          FontWeight="SemiBold"/>

                <ItemsControl>
                    <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                           CornerRadius="{StaticResource CardCornerRadius}"
                           Padding="20"
                           Margin="0,0,0,12">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0"
                                    Glyph="&#xE946;"
                                    FontSize="24"
                                    Foreground="{StaticResource SuccessBrush}"
                                    Margin="0,0,16,0"/>

                            <StackPanel Grid.Column="1" Spacing="4">
                                <TextBlock Text="Great progress on break consistency!"
                                         FontSize="16"
                                         FontWeight="SemiBold"/>
                                <TextBlock Text="You've been taking regular breaks this week. Keep it up to maintain good eye health and reduce fatigue."
                                         FontSize="13"
                                         Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                         TextWrapping="Wrap"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                           CornerRadius="{StaticResource CardCornerRadius}"
                           Padding="20"
                           Margin="0,0,0,12">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0"
                                    Glyph="&#xE7BA;"
                                    FontSize="24"
                                    Foreground="{StaticResource WarningBrush}"
                                    Margin="0,0,16,0"/>

                            <StackPanel Grid.Column="1" Spacing="4">
                                <TextBlock Text="Consider increasing hydration"
                                         FontSize="16"
                                         FontWeight="SemiBold"/>
                                <TextBlock Text="Your water intake has been below target for 3 days. Try setting more frequent reminders."
                                         FontSize="13"
                                         Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                         TextWrapping="Wrap"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                           CornerRadius="{StaticResource CardCornerRadius}"
                           Padding="20">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <FontIcon Grid.Column="0"
                                    Glyph="&#xE946;"
                                    FontSize="24"
                                    Foreground="{StaticResource AccentBrush}"
                                    Margin="0,0,16,0"/>

                            <StackPanel Grid.Column="1" Spacing="4">
                                <TextBlock Text="Peak productivity detected"
                                         FontSize="16"
                                         FontWeight="SemiBold"/>
                                <TextBlock Text="You're most productive between 9 AM - 11 AM. Consider scheduling important tasks during this window."
                                         FontSize="13"
                                         Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                         TextWrapping="Wrap"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                </ItemsControl>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</Page>
