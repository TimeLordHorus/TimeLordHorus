<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="TimeLord Browser - A lightweight, feature-rich PWA browser">
    <meta name="theme-color" content="#1a1a2e">
    <title>TimeLord Browser</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üåê</text></svg>">
</head>
<body>
    <div class="browser-container">
        <!-- Top Bar -->
        <header class="top-bar">
            <div class="browser-name">
                <span class="logo">üåê</span>
                <span class="name">TimeLord Browser</span>
            </div>
            <div class="header-controls">
                <button id="themeToggle" class="icon-btn" title="Toggle Theme">üåì</button>
                <button id="settingsBtn" class="icon-btn" title="Settings">‚öôÔ∏è</button>
            </div>
        </header>

        <!-- Tab Bar -->
        <div class="tab-bar">
            <div class="tabs-container" id="tabsContainer"></div>
            <button id="newTabBtn" class="new-tab-btn" title="New Tab">+</button>
        </div>

        <!-- Navigation Bar -->
        <nav class="nav-bar">
            <div class="nav-controls">
                <button id="backBtn" class="nav-btn" title="Back" disabled>‚óÄ</button>
                <button id="forwardBtn" class="nav-btn" title="Forward" disabled>‚ñ∂</button>
                <button id="refreshBtn" class="nav-btn" title="Refresh">‚Üª</button>
                <button id="homeBtn" class="nav-btn" title="Home">üè†</button>
            </div>

            <div class="address-bar-container">
                <span class="protocol-indicator" id="protocolIndicator">üîí</span>
                <input type="text" id="addressBar" class="address-bar" placeholder="Enter URL or search...">
                <button id="goBtn" class="go-btn">Go</button>
            </div>

            <div class="action-controls">
                <button id="bookmarkBtn" class="action-btn" title="Bookmark this page">‚≠ê</button>
                <button id="historyBtn" class="action-btn" title="History">üìú</button>
                <button id="blueDropBtn" class="action-btn" title="BlueDrop - Share via Bluetooth">üì°</button>
                <button id="downloadsBtn" class="action-btn" title="Downloads">üíæ</button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="content-area" id="contentArea">
            <!-- Tabs will be dynamically inserted here -->
        </main>

        <!-- Sidebar (for bookmarks, history, etc.) -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3 id="sidebarTitle">Bookmarks</h3>
                <button class="close-sidebar" id="closeSidebar">‚úï</button>
            </div>
            <div class="sidebar-content" id="sidebarContent"></div>
        </aside>

        <!-- Settings Panel -->
        <div class="settings-panel" id="settingsPanel">
            <div class="settings-content">
                <div class="settings-header">
                    <h2>Settings</h2>
                    <button class="close-settings" id="closeSettings">‚úï</button>
                </div>

                <div class="settings-body">
                    <div class="setting-group">
                        <h3>General</h3>
                        <div class="setting-item">
                            <label for="homePageInput">Home Page URL:</label>
                            <input type="text" id="homePageInput" placeholder="https://example.com">
                            <button id="saveHomePage" class="small-btn">Save</button>
                        </div>
                        <div class="setting-item">
                            <label for="searchEngineSelect">Default Search Engine:</label>
                            <select id="searchEngineSelect">
                                <option value="google">Google</option>
                                <option value="duckduckgo">DuckDuckGo</option>
                                <option value="bing">Bing</option>
                                <option value="brave">Brave Search</option>
                            </select>
                        </div>
                    </div>

                    <div class="setting-group">
                        <h3>Privacy</h3>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="saveHistory">
                                Save browsing history
                            </label>
                        </div>
                        <div class="setting-item">
                            <button id="clearHistoryBtn" class="danger-btn">Clear History</button>
                            <button id="clearBookmarksBtn" class="danger-btn">Clear Bookmarks</button>
                        </div>
                    </div>

                    <div class="setting-group">
                        <h3>Appearance</h3>
                        <div class="setting-item">
                            <label>
                                <input type="checkbox" id="autoTheme">
                                Auto theme based on system preference
                            </label>
                        </div>
                    </div>

                    <div class="setting-group">
                        <h3>About</h3>
                        <p class="about-text">
                            <strong>TimeLord Browser v1.1.0</strong><br>
                            A lightweight, feature-rich Progressive Web App browser.<br>
                            Now with BlueDrop Bluetooth sharing!<br>
                            Built with vanilla JavaScript for optimal performance.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Welcome Screen -->
        <div class="welcome-screen" id="welcomeScreen">
            <div class="welcome-content">
                <h1>üåê Welcome to TimeLord Browser</h1>
                <p class="tagline">A lightweight, powerful browsing experience</p>

                <div class="quick-links">
                    <h3>Quick Links</h3>
                    <div class="links-grid">
                        <a href="https://www.google.com" class="quick-link" data-url="https://www.google.com">
                            <span class="link-icon">üîç</span>
                            <span class="link-name">Google</span>
                        </a>
                        <a href="https://github.com" class="quick-link" data-url="https://github.com">
                            <span class="link-icon">üíª</span>
                            <span class="link-name">GitHub</span>
                        </a>
                        <a href="https://www.wikipedia.org" class="quick-link" data-url="https://www.wikipedia.org">
                            <span class="link-icon">üìö</span>
                            <span class="link-name">Wikipedia</span>
                        </a>
                        <a href="https://www.youtube.com" class="quick-link" data-url="https://www.youtube.com">
                            <span class="link-icon">üì∫</span>
                            <span class="link-name">YouTube</span>
                        </a>
                    </div>
                </div>

                <div class="features">
                    <h3>Features</h3>
                    <ul>
                        <li>üöÄ Lightweight and fast</li>
                        <li>üìë Multi-tab browsing</li>
                        <li>‚≠ê Bookmark management</li>
                        <li>üìú History tracking</li>
                        <li>üì° BlueDrop Bluetooth sharing</li>
                        <li>üåì Dark/Light theme</li>
                        <li>üì± Works offline (PWA)</li>
                        <li>üîí Privacy-focused</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- BlueDrop Panel -->
        <div class="bluedrop-panel" id="blueDropPanel">
            <div class="bluedrop-content">
                <div class="bluedrop-header">
                    <h2>üì° BlueDrop</h2>
                    <button class="close-bluedrop" id="closeBlueDrop">‚úï</button>
                </div>

                <div class="bluedrop-body">
                    <!-- Status Section -->
                    <div class="bluedrop-section">
                        <div class="bluedrop-status" id="blueDropStatus">
                            <span class="status-indicator" id="statusIndicator">‚ö´</span>
                            <span class="status-text" id="statusText">Bluetooth disconnected</span>
                        </div>
                        <button id="toggleBluetoothBtn" class="primary-btn">Enable Bluetooth</button>
                    </div>

                    <!-- Share Section -->
                    <div class="bluedrop-section" id="shareSection" style="display: none;">
                        <h3>Share Content</h3>

                        <div class="share-options">
                            <div class="share-option">
                                <button id="shareCurrentPageBtn" class="share-btn">
                                    <span class="share-icon">üîó</span>
                                    <span class="share-label">Share Current Page</span>
                                </button>
                            </div>

                            <div class="share-option">
                                <label for="fileInput" class="share-btn file-share-btn">
                                    <span class="share-icon">üìÅ</span>
                                    <span class="share-label">Share File</span>
                                </label>
                                <input type="file" id="fileInput" style="display: none;" multiple>
                            </div>

                            <div class="share-option">
                                <button id="shareTextBtn" class="share-btn">
                                    <span class="share-icon">üìù</span>
                                    <span class="share-label">Share Text</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Device Discovery Section -->
                    <div class="bluedrop-section" id="deviceSection" style="display: none;">
                        <h3>Nearby Devices</h3>
                        <button id="scanDevicesBtn" class="secondary-btn">Scan for Devices</button>
                        <div class="device-list" id="deviceList">
                            <div class="empty-state">
                                <div class="empty-state-icon">üì°</div>
                                <div class="empty-state-text">No devices found. Click "Scan for Devices" to search.</div>
                            </div>
                        </div>
                    </div>

                    <!-- Transfer Progress Section -->
                    <div class="bluedrop-section" id="transferSection" style="display: none;">
                        <h3>Transfer Progress</h3>
                        <div class="transfer-item">
                            <div class="transfer-info">
                                <span class="transfer-name" id="transferName">-</span>
                                <span class="transfer-size" id="transferSize">-</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                            </div>
                            <div class="transfer-status" id="transferStatus">Ready</div>
                        </div>
                    </div>

                    <!-- Share History Section -->
                    <div class="bluedrop-section">
                        <div class="section-header">
                            <h3>Recent Shares</h3>
                            <button id="clearShareHistoryBtn" class="text-btn">Clear</button>
                        </div>
                        <div class="share-history" id="shareHistory">
                            <div class="empty-state">
                                <div class="empty-state-icon">üì§</div>
                                <div class="empty-state-text">No recent shares</div>
                            </div>
                        </div>
                    </div>

                    <!-- Info Section -->
                    <div class="bluedrop-section bluedrop-info">
                        <p><strong>About BlueDrop:</strong></p>
                        <ul>
                            <li>Share files, links, and text wirelessly</li>
                            <li>Uses Web Bluetooth API for device communication</li>
                            <li>Secure peer-to-peer transfers</li>
                            <li>Works with compatible Bluetooth devices</li>
                        </ul>
                        <p class="info-note">
                            <strong>Note:</strong> Your browser must support Web Bluetooth API.
                            Make sure Bluetooth is enabled on your device.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Text Share Modal -->
        <div class="modal" id="textShareModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Share Text</h3>
                    <button class="close-modal" id="closeTextModal">‚úï</button>
                </div>
                <div class="modal-body">
                    <textarea id="shareTextArea" placeholder="Enter text to share..." rows="6"></textarea>
                </div>
                <div class="modal-footer">
                    <button id="cancelTextShare" class="secondary-btn">Cancel</button>
                    <button id="confirmTextShare" class="primary-btn">Share</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="app.js"></script>
    <script src="bluedrop.js"></script>
</body>
</html>
